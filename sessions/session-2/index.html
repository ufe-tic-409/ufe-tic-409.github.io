<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Session 2 - Structural Patterns</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400,700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../../styles/style.css" />
  </head>
  <body>
    <div class="container">
      <div style="display: flex; flex-direction: row; align-items: center; margin-bottom: 50px;">
        <img
          class="logo"
          src="../../assets/ufe-logo.png"
          alt="UFE Logo"
          style="margin-right: 10px"
        />
        <div style="display: flex; flex-direction: column">
          <h1 style="margin-bottom: 0;" class="primary-color">TIC 409 Advanced OOP</h1>
          <h2 style="margin-top: 0;" class="primary-color">Session 2 : Structural patterns</h2>
        </div>
      </div>
      <div>
        <h3>üîå Adapter</h3>
        <div>
            <h4>Intent</h4>
            <blockquote>
                Converts the interface of a class into another interface clients expect.
            </blockquote>
        </div>
        <div>
            <h4>Diagram</h4>
            <img style="width: 50%;" src="./assets/adapter-diagram.png" alt="Adapter diagram">
        </div>
        <div>
            <h4>Example</h4>
            <p></p>
        </div>
      </div>
      <hr style="width: 100%; margin: 50px 0;">
      <div>
        <h3>üîÅ Proxy pattern (aka. Surrogate)</h3>
        <div>
            <h4>Intent</h4>
            <blockquote>
                Structural design pattern that lets you provide a substitutre or placeholder for another object. A proxy controls access to the original object, allowing you to perform something either before or after the request gets through to the original object.
            </blockquote>
        </div>
        <div>
            <h4>Diagram</h4>
            <img style="width: 50%;" src="./assets/proxy-diagram.png" alt="Proxy diagram">
        </div>
        <div>
            <h4>Example</h4>
            <p>You are creating you sci-fi game. In your game, you must render multiple Players. Rendering is the process of converting the data structure containing information about a certain object and the environment surrounding it to an image to display. However, rendering a Player is a costly operation.
            <br><br>
            For the sake of the example, we will assume that rendering doesn't need to be redone if the player hasn't change his position (This is a very simplistic idea and not really representative of what happens in a real game). 
            <br>
            <div class="starter-code">
              <a href="https://github.com/ufe-tic-409/design-patterns-examples/tree/62df8787542064d767c02aabf57e1842e632c06e">Starter code</a></div>
            <h5>Questions</h5>
            <ol>
              <li>Start by copying the start code and reading it. </li>
              <li>Start by implementing proxy pattern to protect the player from being re-rendered again if he hasn't changed his position. <a href="https://github.com/ufe-tic-409/design-patterns-examples/tree/1aeb2722c532faee6cdf8a5bbcd89ad86780cede">[code]</a></li>
              <li>Finally, add <strong>`calculateRank`</strong> method than returns a number from 1 to 100. Assuming calculating the ranking is an intensive process. You can cache the last score that was returned to the user and only recalculate it if the players changes position. Use the proxy you developed in the last question to cache the score. Display the rank on each loop to view when it changes. <a href="https://github.com/ufe-tic-409/design-patterns-examples/tree/8fdccb82a97073b291ae2c068616ba993b939f15">[code]</a></li>
      </div>
      <hr style="width: 100%; margin: 50px 0;">
      <div>
        <h3>üéÑ Decorator pattern (aka. Wrapper)</h3>
        <div>
            <h4>Intent</h4>
            <blockquote>
                Attach additional responsibilities to an object (not a class) dynamically. Decorators provide a flexible alternative to subclassing for extending functionality.
            </blockquote>
        </div>
        <div>
            <h4>Diagram</h4>
            <img style="width: 50%;" src="./assets/decorator-diagram.png" alt="Decorator diagram">
        </div>
        <div>
            <h4>Example</h4>
            <p>
              You are creating you sci-fi game. In your game, you can own a spaceship. Your spaceship has a basic gun and a basic shield. You can customize your spaceship by attaching addons to it. In our example your will be able to attach <strong>Laser gun</strong> to improve your attack. You can also equip a <strong>Point-defense cannon</strong> to improve your defense.
            </p>
            <small>
              <i>
                We don't care about how much those addons will impact your attack and defense we will be focusing on ensuring they are activated at the correct time if they are attached to your spaceship. Also a spaceship may have any combination of the above equipments.
              </i>
            </small>
            <div class="starter-code">
              <a href="https://github.com/ufe-tic-409/design-patterns-examples/tree/31aac56e0011d8237d38ca63bf5ed18a96e59c03">Starter code</a></div>
          <h5>Questions</h5>
          <ol>
            <li>Start by copying the start code and reading it. What do you think about the code structure ?</li>
            <li>Let's assume we wanted to add a new Attack weapon. How hard will it be ? Why ?</li>
            <li>Start by implementing the decorator pattern to improve the code structure. <a href="https://github.com/ufe-tic-409/design-patterns-examples/tree/bbdbc72ceee6381fbc85c67d34530710c1d25cf7">[code]</a></li>
            <li>How hard would it be to create a `downgrade` method that detaches the last attachment ?</li>
            <li>Is there any other method way to create the same functionality using a different approach ? Will it remain as flexible the builder pattern ?</li>
          </ol>
        </div>
      </div>
    </div>
  </body>
</html>
